{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health - Register</title>
    <link rel="stylesheet" href="{% static 'css/register.css' %}">
</head>
<body>

    <div class="container">

        <h1>Register</h1>

        <form id="register-form" action="{% url 'register' %}" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            {{ registerform.as_p }}


            <div id="provider-fields" style="display:none;">
                {{providerform.as_p}}
            </div>

            <div id="patient-fields" style="display:none;">
                {{patientform.as_p}}
            </div>

            <button type="submit">Register</button>
            <p>Already have an account? <a href="{% url 'user_login' %}">Login Here</a></p>
        </form>

    </div>
    
    

    <script>
        console.log('Running');
        const roleSelect = document.getElementById('id_role');
        const providerFields = document.getElementById('provider-fields');
        const patientFields = document.getElementById('patient-fields');

        roleSelect.addEventListener('change', (e) => 
        {
            console.log(e.target.value)
            if(e.target.value === "provider") {
                providerFields.style.display = 'block';
                patientFields.style.display = 'none';
            } else if(e.target.value === "patient") {
                patientFields.style.display = 'block';
                providerFields.style.display = 'none';
            }
        });

    </script>

</body>
</html>